if(!Joomla)throw new Error("Joomla API was not properly initialized");function seek(e,t){e.currentTime=t.toFixed(1),e.play()}function updchapter(e,t,r,a){if(e.seeking)t.innerHTML=a;else if(e.currentTime<=0)t.innerHTML="";else{let a="",i=r.length-1;for(;i>=0;){if(e.currentTime>=r[i].start){a=r[i].title;break}i-=1}t.innerHTML=a}}const allAudioPlayerDivs=document.querySelectorAll("div.rfaudioplayer");allAudioPlayerDivs.forEach((e=>{const t=e.getElementsByTagName("audio")[0],r=e.querySelector(".rfaudiostatus"),a=e.getElementsByTagName("li"),i=Joomla.Text._("MOD_RFAUDIO_SEEKING"),n=[];for(let e=0;e<a.length;e+=1){const r=a[e].getElementsByTagName("a")[0],i={start:parseFloat(r.getAttribute("data-start")),title:r.innerHTML};n[e]=i,r.addEventListener("click",(()=>{seek(t,i.start)}))}n[a.length]={start:t.duration,title:""},t.addEventListener("durationchange",(()=>{n[a.length].start=t.duration})),t.addEventListener("timeupdate",(()=>{updchapter(t,r,n,i)}))}));