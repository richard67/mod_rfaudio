if(!Joomla)throw new Error("Joomla API was not properly initialized");function seek(e,t){e.currentTime=t.toFixed(1),e.play()}function updchapter(e,t,n,i){if(e.seeking)t.innerHTML=i;else if(e.currentTime<=0)t.innerHTML="";else{let i="",r=n.length-1;for(;r>=0;){if(e.currentTime>=n[r].start){i=n[r].title;break}r--}t.innerHTML=i}}const allAudioDivs=document.querySelectorAll("div.rfaudioplayer");allAudioDivs.forEach((e=>{const t=e.getElementsByTagName("audio")[0],n=e.querySelector(".rfaudiostatus"),i=e.getElementsByTagName("li"),r=Joomla.Text._("MOD_RFAUDIO_SEEKING");let a=[];for(let e=0;e<i.length;++e){const n=i[e].getElementsByTagName("a")[0],r={start:parseFloat(n.getAttribute("data-start")),title:n.innerHTML};a[e]=r,n.addEventListener("click",(function(){seek(t,r.start)}))}a[i.length]={start:t.duration,title:""},t.addEventListener("durationchange",(function(){a[i.length].start=t.duration})),t.addEventListener("timeupdate",(function(){updchapter(t,n,a,r)}))}));